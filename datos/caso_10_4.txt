qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -global virtio-mmio.force-legacy=false -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ cpubench &; cpubench
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3650 KFLOP1000T
3, 3636 KFLOP1000T
5, 3650 KFLOP1000T
3, 3636 KFLOP1000T
5, 3650 KFLOP1000T
3, 3636 KFLOP1000T
5, 3656 KFLOP1000T
3, 3650 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3663 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3656 KFLOP1000T
3, 3650 KFLOP1000T
5, 3663 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3650 KFLOP1000T
3, 3623 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3663 KFLOP1000T
3, 3643 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3643 KFLOP1000T
5, 3663 KFLOP1000T
3, 3650 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3656 KFLOP1000T
3, 3636 KFLOP1000T
5, 3656 KFLOP1000T
3, 3643 KFLOP1000T
5, 3656 KFLOP1000T
3, 3650 KFLOP1000T
